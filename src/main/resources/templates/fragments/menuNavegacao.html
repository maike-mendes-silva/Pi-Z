<nav th:fragment="menuNavegacao" class="navbar bg-light fixed-top shadow-sm w-100 p-1">
  <div class="container-fluid d-flex flex-column flex-md-row align-items-start align-items-md-center">

    <!-- Parte de cima: Logo + Botão Hamburguer + Ícone perfil -->
    <div class="d-flex justify-content-between w-100 align-items-center mb-2 mb-md-0">

      <!-- Botão Hamburguer -->
      <button class="navbar-toggler border-0 p-1" type="button" data-bs-toggle="collapse"
        data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon "></span>
      </button>

      <!-- Logo e Título -->
      <a class="navbar-brand d-flex align-items-center" th:href="@{/}">
        <img src="../img/logo_PiZ.png" alt="Logotipo da Pi Z" class="img-fluid" style="max-width: 35px;">
        <p class="cormorant-bold mb-0 ms-2" style="font-size: 25px;">Pi Z</p>
      </a>

      <!-- Ícone do carrinho e Ícone de perfil-->
      <div class="d-flex align-items-center justify-content-center p-1">
        <a th:href="@{/carrinho}" class="d-flex align-items-center justify-content-center p-1">
          <img src="../img/cart_icon.png" alt="Ícone de perfil" class=" img-fluid" style="max-width: 30px;">
        </a>
        <a th:href="@{/perfil}" class="rounded-circle border d-flex align-items-center justify-content-center p-1">
          <img th:if="${currentUser != null and currentUser.imgUrl != null and !currentUser.imgUrl.isEmpty()}"
               th:src="${currentUser.imgUrl}"
               alt="Foto de perfil do usuário"
               class="img-fluid rounded-circle"
               style="max-width: 30px; height: 30px; object-fit: cover;">
      
          <img th:unless="${currentUser != null and currentUser.imgUrl != null and !currentUser.imgUrl.isEmpty()}"
               src="../img/user_icon.png"
               alt="Ícone de perfil padrão"
               class="img-fluid"
               style="max-width: 30px;">
        </a>
      </div>


    </div>

    <!-- Barra de Pesquisa -->
    <form class="w-100 p-1">
      <div class="input-group">
        <!-- Input com borda arredondada à esquerda -->
        <input type="text" class="form-control rounded-start-pill"
          placeholder="Que tipo de pisada você quer dar hoje?">

        <!-- Botão da lupa -->
        <button class="btn btn-outline-secondary" type="button">
          <img src="../img/Search_icon.png" alt="Pesquisar" style="width: 20px; height: 20px;">
        </button>

        <!-- Botão da câmera -->
        <button class="btn btn-outline-secondary rounded-end-pill" type="button">
          <img src="../img/camera_icon.png" alt="Pesquisar por imagem" style="width: 20px; height: 20px;">
        </button>
      </div>

    </form>

    <!-- Itens colapsáveis (opcional, se quiser o menu escondido em mobile) -->
    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav mx-auto mb-2 mb-lg-0 d-flex gap-3 me-auto">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" th:href="@{/}">Início</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/colecoes}">Coleções</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/suporte}">Suporte</a>
        </li>
      </ul>
    </div>

  </div>
</nav>