<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />


  <title>Pi Z - Home</title>

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant:ital,wght@0,300..700;1,300..700&display=swap"
    rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Link Swiper's CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

  <!-- CSS -->
  <link rel="stylesheet" href="/css/detalhesProduto.css" />

</head>

<body style="background-color: #FAFAFA;">

    <!-- Insere o cabeçalho separado em outro arquivo -->
    <header th:replace="~{fragments/menuNavegacao :: menuNavegacao}"></header>

    <div class="container-produto">
        <div class="product-container">
            <!-- Seção da Imagem do Produto -->
            <div class="product-image-section">
                <div class="main-image-wrapper">
                    <!-- Imagem principal do produto -->
                    <img th:src="${produto.imgUrl}" alt="Sandália Pierre Salto Alto Fino" class="main-image">
                </div>
            </div>
            <!-- Seção de Detalhes do Produto -->
            <div class="product-details-section">
                <h1 class="product-title" th:text="${produto.nome}"></h1>
                <p class="release-info" th:text="${produto.colecao}"></p>
    
                <p class="sizes-label">Tamanhos:</p>
                <div class="size-options">
                    <div th:each="tamanhoProduto : ${tamanhosDisponiveis}"
                         th:classappend="${tamanhoProduto.id == produto.id} ? 'selected' : ''"
                         th:text="${tamanhoProduto.tamanho}"
                         class="size-option"
                         data-produto-id="${tamanhoProduto.id}">
                        </div>
                </div>
    
                <p class="price" th:text="'R$' + ${#numbers.formatDecimal(produto.preco, 1, 'COMMA', 2, 'POINT')}"></p>
    
                <div class="actions">
                    <!-- Botão de compra -->
                    <button class="buy-button">Comprar</button>
                </div>
    
                <p class="delivery-info">
                    PREVISÃO DE ENTREGA<br>
                    <span th:text="${previsaoInicio}"></span> - <span th:text="${previsaoFim}"></span>
                </p>
            </div>
        </div>
    
        <script>
            // Adiciona um evento de escuta para quando o DOM estiver completamente carregado
            document.addEventListener('DOMContentLoaded', () => {
                // Seleciona todas as opções de tamanho
                const sizeOptions = document.querySelectorAll('.size-option');
                // Itera sobre cada opção de tamanho para adicionar um evento de clique
                sizeOptions.forEach(option => {
                    option.addEventListener('click', () => {
                        // Remove a classe 'selected' de todas as opções
                        sizeOptions.forEach(opt => opt.classList.remove('selected'));
                        // Adiciona a classe 'selected' à opção clicada
                        option.classList.add('selected');
                    });
                });
            });
        </script>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Insere o rodapé separado em outro arquivo -->
    <footer th:replace="~{fragments/rodape :: rodape}"></footer>
</body>