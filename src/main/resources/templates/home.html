<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />


  <title>Pi Z - Home</title>

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant:ital,wght@0,300..700;1,300..700&display=swap"
    rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Link Swiper's CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

  <!-- CSS -->
  <link rel="stylesheet" href="/css/home.css" />

</head>

<body style="background-color: #FAFAFA;">

  <!-- Insere o cabeçalho separado em outro arquivo -->
  <header th:replace="~{fragments/menuNavegacao :: menuNavegacao}"></header>

  <!-- Alerta Toast -->
  <div th:if="${mensagemSucesso}" class="toast show" role="alert" aria-live="assertive" aria-atomic="true" style="position: absolute; top: 7rem; right: 1rem;" data-bs-autohide="true"
  data-bs-delay="7000">
    <div class="toast-header">
      <strong class="me-auto">Aviso</strong>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Fechar"></button>
    </div>
    <div class="toast-body" th:text="${mensagemSucesso}"></div>
  </div>

  <section class="container-fluid d-flex flex-column pt-5 ps-0 pe-0">
    <div class="home-bg d-flex flex-column justify-content-center align-items-center pt-5" style="height: 250px;">
      <h1 class="cormorant-italic">Bem vindo a Pi Z</h1>
      <h2>O melhor e-commerce de sapatos do Brasil</h2>
    </div>

    <div class="container d-flex justify-content-start align-items-center gap-2 m-4">
      <img src="../img/fogo_icon.png" alt="Icone em alta" class="img-fluid" style="width: 40px; height: 40px;">
      <h2 class="cormorant-bold" style="margin-bottom: 0;">Em alta</h2>
    </div>

    <section>
      <div class="container" style="padding-bottom: 3rem; max-width: 100%;">
        <div class="swiper mySwiper">

          <div class="swiper-wrapper">
            <div class="swiper-slide" th:each="produto : ${produtos}">
              <div class="card card-produto">
              <img th:src="${produto.imgUrl}" class="card-img-top img-produto" th:alt="${produto.nome}">
                <div class="card-body">
                  <h5 class="card-title titulo-produto" th:text="${produto.nome}"></h5>
                  <p class="card-text descricao-produto"th:text="${produto.descricao}"></p>
                  <p class="card-text preco-produto" th:text="'R$' + ${#numbers.formatDecimal(produto.preco, 1, 'COMMA', 2, 'POINT')}"></p>
                  <div class="rating mb-2">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                  </div>
                  <div class="d-flex gap-2 justify-content-center">
                    <a class="btn btn-primary btn-sm" th:href="@{/produto/{id}(id=${produto.id})}">Comprar</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-pagination"></div>

        </div>
      </div>
    </section>

    <div class="container d-flex justify-content-start align-items-center gap-2 m-4">
      <img src="../img/estrela_icon.png" alt="Icone em alta" class="img-fluid" style="width: 40px; height: 40px;">
      <h2 class="cormorant-bold" style="margin-bottom: 0;">Nossos produtos</h2>
    </div>

    <section>
      <div class="container d-flex justify-content-center align-items-center gap-5 mb-4 flex-wrap">

        <!-- Listagem Sapatos -->
        <div class="card card-produto" th:each="produto : ${produtos}">
          <img th:src="${produto.imgUrl}" class="card-img-top img-produto" th:alt="${produto.nome}">
            <div class="card-body">
              <h5 class="card-title titulo-produto" th:text="${produto.nome}"></h5>
              <p class="card-text descricao-produto"th:text="${produto.descricao}"></p>
              <p class="card-text preco-produto" th:text="'R$' + ${#numbers.formatDecimal(produto.preco, 1, 'COMMA', 2, 'POINT')}"></p>
              <div class="rating mb-2">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star-half-alt"></i>
                <i class="far fa-star"></i>
                <i class="far fa-star"></i>
              </div>
              <div class="d-flex gap-2 justify-content-center">
                <a class="btn btn-primary btn-sm" th:href="@{/produto/{id}(id=${produto.id})}">Comprar</a>
              </div>
            </div>
          </div>
        <!-- Fim Listagem-->
      </div>
    </section>

    <!-- Para que o alerta toast saia da tela depois de 7 segundos -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
          const toastEl = document.querySelector('.toast');
          if (toastEl) {
              const toast = new bootstrap.Toast(toastEl);
              toast.show();
          }
      });
  </script>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        new Swiper('.mySwiper', {
          slidesPerView: 3,  // Exibir 3 cards ao mesmo tempo
          spaceBetween: 20,  // Espaço entre os cards
          loop: true,
          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
          observer: true,
          observeParents: true,
          breakpoints: {
            600: {
              slidesPerView: 2,
            },
            1024: {
              slidesPerView: 4,
            },
          },
        });
      });
    </script>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Insere o rodapé separado em outro arquivo -->
    <footer th:replace="~{fragments/rodape :: rodape}"></footer>
</body>